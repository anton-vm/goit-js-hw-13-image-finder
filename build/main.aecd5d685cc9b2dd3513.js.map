{"version":3,"sources":["webpack:///./index.js"],"names":["id","pageNumber","document","querySelector","insertAdjacentHTML","apiService","search","key","fetch","then","res","json","data","hits","map","el","item","element","webformatURL","likes","views","comments","downloads","addPage","input","value","setTimeout","window","scrollTo","top","scrollY","behavior","form","addEventListener","e","preventDefault","innerHTML","ul","createElement","classList","add","insertAdjacentElement"],"mappings":"yLAMMA,EAAK,qCACPC,EAAa,EAaDC,SAASC,cAAc,SAC/BC,mBAAmB,aAVP,0MAgCpB,IAAMC,EAAa,SAACC,EAAQL,EAAYM,GAGtCC,MAFY,sEAAsEF,EAAzE,SAAwFL,EAAxF,oBAAsHM,GAG5HE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAEJA,EAAKC,KAAKC,KAAI,SAAAC,GAAE,OAKdC,EAAO,uEADKC,EAJiBF,GAOfG,aAFV,2IAOJD,EAAQE,MAPJ,iGAWJF,EAAQG,MAXJ,8FAeJH,EAAQI,SAfJ,qGAmBJJ,EAAQK,UAnBJ,6CAyBIpB,SAASC,cAAc,eAC/BC,mBAAmB,YAAaY,GA3BxC,IAAoBC,EACZD,SAwER,SAASO,IACP,IAAMC,EAAQtB,SAASC,cAAc,SACrCF,GAAc,EACdI,EAAWmB,EAAMC,MAAOxB,EAAYD,GAOpC0B,YAAW,WACTC,OAAOC,SAAS,CACdC,KAAMF,OAAOG,QAAU,IACvBC,SAAU,aAEX,MAKL,IAAMC,EAAO9B,SAASC,cAAc,gBACpC6B,EAAKC,iBAAiB,UAlHtB,SAAqBC,GACnBA,EAAEC,iBACEjC,SAASC,cAAc,iBACzBD,SAASC,cAAc,eAAeiC,UAAY,IAEpD,IAAMZ,EAAQtB,SAASC,cAAc,UAAUsB,MAC/CpB,EAAWmB,EAAOvB,EAAYD,MA6GhCgC,EAAKC,iBAAiB,UA3HtB,WACE,IAAMI,EAAKnC,SAASoC,cAAc,MAClCD,EAAGE,UAAUC,IAAI,cACHtC,SAASC,cAAc,SAC/BsC,sBAAsB,YAAaJ,MAwH3CL,EAAKC,iBAAiB,UA1CtB,WACE,IAAK/B,SAASC,cAAc,aAAc,CAE1BD,SAASC,cAAc,SAC/BC,mBAAmB,YAFb,+CAQIF,SAASC,cAAc,aAC/B8B,iBAAiB,QAASV,S","file":"main.aecd5d685cc9b2dd3513.js","sourcesContent":["import './styles.css';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/src/styles/main.scss';\r\n\r\n\r\n\r\nconst id = '15591781-785a03c118f12007382b46528';\r\nlet pageNumber = 1;\r\n\r\n\r\nfunction renderInputArea() {\r\n  const inputArea = `<form class=\"search-form\" id=\"search-form\">\r\n    <input\r\n      type=\"text\"\r\n      name=\"query\"\r\n      autocomplete=\"off\"\r\n      class=\"input\"\r\n      placeholder=\"Search images...\"\r\n    />\r\n  </form>`;\r\n  const place = document.querySelector('#root');\r\n  place.insertAdjacentHTML('afterbegin', inputArea);\r\n}\r\n\r\nrenderInputArea();\r\n\r\nfunction createUl() {\r\n  const ul = document.createElement('ul');\r\n  ul.classList.add('photo-link');\r\n  const place = document.querySelector('#root');\r\n  place.insertAdjacentElement('beforeend', ul);\r\n}\r\n\r\n\r\nfunction searchData (e) {\r\n  e.preventDefault()\r\n  if (document.querySelector('.photo-link')){\r\n    document.querySelector('.photo-link').innerHTML = \"\"\r\n  }\r\n  const input = document.querySelector('.input').value;\r\n  apiService(input, pageNumber, id);\r\n};\r\n\r\nconst apiService = (search, pageNumber, key) => {\r\n  const URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${pageNumber}&per_page=12&key=${key}`;\r\n\r\n  fetch(URL)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n\r\n      data.hits.map(el => renderItem(el));\r\n    });\r\n};\r\n\r\nfunction renderItem(element) {\r\n  const item = `  <li class=\"photo-items\">\r\n <div class=\"photo-card\">\r\n  <img src=\"${element.webformatURL}\" alt=\"\" class=\"photo-img\" />\r\n\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      ${element.likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      ${element.views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      ${element.comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      ${element.downloads}\r\n    </p>\r\n  </div>\r\n</div>\r\n</li>\r\n`;\r\n  const place = document.querySelector('.photo-link');\r\n  place.insertAdjacentHTML('beforeend', item);\r\n}\r\n\r\n// function showPicture(event) {\r\n//   const instance = basicLightbox.create(`\r\n//     <img src=\"${event.target.largeImageURL}\" width=\"800\" height=\"600\">\r\n// `)\r\n// instance.show()\r\n// }\r\n\r\n\r\n\r\n// const pictureClick = document.querySelector('body')\r\n\r\n// pictureClick.addEventListener('click', showPicture);\r\n\r\n// function showPicture(event) {\r\n//     if (event.target.nodeName === 'IMG') {\r\n//         const imageBig = event.target.dataset.source;\r\n//         console.log(event.target.dataset.source);\r\n//         console.log(event);\r\n//         basicLightbox.create(`\r\n//         <img src=\"${event.target.dataset.source}\">\r\n//     `).show()\r\n//     }\r\n// }\r\n\r\nfunction generateButton() {\r\n  if (!document.querySelector('.more-btn')) {\r\n    const btn = `<button class=\"more-btn\">Load more</button>`;\r\n    const place = document.querySelector('#root');\r\n    place.insertAdjacentHTML('beforeend', btn);\r\n    listenBtn();\r\n  }\r\n}\r\n\r\nfunction listenBtn() {\r\n  const btnListen = document.querySelector('.more-btn');\r\n  btnListen.addEventListener('click', addPage);\r\n}\r\n\r\n// generateButton ()\r\n\r\n\r\n\r\n\r\nfunction addPage() {\r\n  const input = document.querySelector('input');\r\n  pageNumber += 1;\r\n  apiService(input.value, pageNumber, id);\r\n  scroll()\r\n}\r\n\r\nlet page = 0\r\n\r\nfunction scroll() {\r\n  setTimeout(() => {\r\n    window.scrollTo({\r\n      top: +window.scrollY + 700,\r\n      behavior: 'smooth',\r\n    });\r\n  }, 1500);\r\n}\r\n\r\n\r\n\r\nconst form = document.querySelector('#search-form');\r\nform.addEventListener('submit', searchData);\r\nform.addEventListener('submit', createUl);\r\nform.addEventListener('submit', generateButton);\r\n\r\n\r\n\r\n"],"sourceRoot":""}