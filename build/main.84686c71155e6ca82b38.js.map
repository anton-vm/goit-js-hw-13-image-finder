{"version":3,"sources":["webpack:///./index.js"],"names":["id","pageNumber","document","querySelector","insertAdjacentHTML","apiService","search","key","URL","console","log","fetch","then","res","json","data","hits","map","el","item","element","webformatURL","likes","views","comments","downloads","scroll","addPage","input","value","addEventListener","_","debounce","e","preventDefault","innerHTML","target","ul","createElement","classList","add","insertAdjacentElement"],"mappings":"+KAMMA,EAAK,qCACPC,EAAa,EAaDC,SAASC,cAAc,SAC/BC,mBAAmB,aAVP,0MAuBpB,IASMC,EAAa,SAACC,EAAQL,EAAYM,GACtC,IAAMC,EAAM,sEAAsEF,EAAzE,SAAwFL,EAAxF,oBAAsHM,EAC/HE,QAAQC,IAAIF,GACZG,MAAMH,GACHI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJN,QAAQC,IAAIK,GACZN,QAAQC,IAAIK,EAAKC,MACjBD,EAAKC,KAAKC,KAAI,SAAAC,GAAE,OAKdC,EAAO,uEADKC,EAJiBF,GAOfG,aAFV,2IAOJD,EAAQE,MAPJ,iGAWJF,EAAQG,MAXJ,8FAeJH,EAAQI,SAfJ,qGAmBJJ,EAAQK,UAnBJ,6CAyBIvB,SAASC,cAAc,eAC/BC,mBAAmB,YAAae,GA3BxC,IAAoBC,EACZD,SA4CR,IAAIO,EAAS,EAEb,SAASC,IACP,IAAMC,EAAQ1B,SAASC,cAAc,SACrCF,GAAc,EAEdQ,QAAQC,IAAIT,GACZI,EAAWuB,EAAMC,MAAO5B,EAAYD,GACpCS,QAAQC,IAAI,SACZgB,GAAkB,KAClBjB,QAAQC,IAAIgB,GAGd,IAAME,EAAQ1B,SAASC,cAAc,UACrCyB,EAAME,iBAAiB,QAASC,EAAEC,UAhFf,SAAAC,GACjBA,EAAEC,iBACEhC,SAASC,cAAc,iBACzBD,SAASC,cAAc,eAAegC,UAAY,IAEpD,IAAMP,EAAQK,EAAEG,OAAOP,MACvBxB,EAAWuB,EAAO3B,EAAYD,KA0EuB,MACvD4B,EAAME,iBAAiB,SAzFvB,WACE,IAAMO,EAAKnC,SAASoC,cAAc,MAClCD,EAAGE,UAAUC,IAAI,cACHtC,SAASC,cAAc,SAC/BsC,sBAAsB,YAAaJ,MAsF3CT,EAAME,iBAAiB,QAASC,EAAEC,UA/BlC,WACE,IAAK9B,SAASC,cAAc,aAAc,CAE1BD,SAASC,cAAc,SAC/BC,mBAAmB,YAFb,+CAQIF,SAASC,cAAc,aAC/B2B,iBAAiB,QAASH,MAoBqB,S","file":"main.84686c71155e6ca82b38.js","sourcesContent":["import './styles.css';\r\n// import apiService from './js/apiService'\r\n// import photoForm from \"./templates/picture-form.hbs\"\r\n\r\nimport debounce from '../node_modules/lodash'\r\n\r\nconst id = '15591781-785a03c118f12007382b46528';\r\nlet pageNumber = 1;\r\n\r\n\r\nfunction renderInputArea() {\r\n  const inputArea = `<form class=\"search-form\" id=\"search-form\">\r\n    <input\r\n      type=\"text\"\r\n      name=\"query\"\r\n      autocomplete=\"off\"\r\n      class=\"input\"\r\n      placeholder=\"Search images...\"\r\n    />\r\n  </form>`;\r\n  const place = document.querySelector('#root');\r\n  place.insertAdjacentHTML('afterbegin', inputArea);\r\n}\r\n\r\nrenderInputArea();\r\n\r\nfunction createUl() {\r\n  const ul = document.createElement('ul');\r\n  ul.classList.add('photo-link');\r\n  const place = document.querySelector('#root');\r\n  place.insertAdjacentElement('beforeend', ul);\r\n}\r\n// createUl ()\r\n\r\nconst searchData = e => {\r\n  e.preventDefault();\r\n  if (document.querySelector('.photo-link')){\r\n    document.querySelector('.photo-link').innerHTML = \"\"\r\n  }\r\n  const input = e.target.value;\r\n  apiService(input, pageNumber, id);\r\n};\r\n\r\nconst apiService = (search, pageNumber, key) => {\r\n  const URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${pageNumber}&per_page=12&key=${key}`;\r\n  console.log(URL);\r\n  fetch(URL)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      console.log(data);\r\n      console.log(data.hits);\r\n      data.hits.map(el => renderItem(el));\r\n    });\r\n};\r\n\r\nfunction renderItem(element) {\r\n  const item = `  <li class=\"photo-items\">\r\n <div class=\"photo-card\">\r\n  <img src=\"${element.webformatURL}\" alt=\"\" class=\"photo-img\" />\r\n\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      ${element.likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      ${element.views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      ${element.comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      ${element.downloads}\r\n    </p>\r\n  </div>\r\n</div>\r\n</li>\r\n`;\r\n  const place = document.querySelector('.photo-link');\r\n  place.insertAdjacentHTML('beforeend', item);\r\n}\r\n\r\nfunction generateButton() {\r\n  if (!document.querySelector('.more-btn')) {\r\n    const btn = `<button class=\"more-btn\">Load more</button>`;\r\n    const place = document.querySelector('#root');\r\n    place.insertAdjacentHTML('beforeend', btn);\r\n    listenBtn();\r\n  }\r\n}\r\n\r\nfunction listenBtn() {\r\n  const btnListen = document.querySelector('.more-btn');\r\n  btnListen.addEventListener('click', addPage);\r\n}\r\n\r\n// generateButton ()\r\nlet scroll = 0\r\n\r\nfunction addPage() {\r\n  const input = document.querySelector('input');\r\n  pageNumber += 1;\r\n\r\n  console.log(pageNumber);\r\n  apiService(input.value, pageNumber, id);\r\n  console.log('hello');\r\n  scroll = scroll + 1200\r\n  console.log(scroll);\r\n}\r\n\r\nconst input = document.querySelector('.input');\r\ninput.addEventListener('input', _.debounce(searchData, 1000));\r\ninput.addEventListener('input', createUl);\r\ninput.addEventListener('input', _.debounce(generateButton, 1500));\r\n\r\n\r\n"],"sourceRoot":""}